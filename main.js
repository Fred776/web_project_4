(()=>{var t={588:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=function(t){"use strict";var e,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(t,e,n){var r=h;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=f(t,e,n);if("normal"===u.type){if(r=n.done?y:p,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=y,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",_={};function v(){}function m(){}function b(){}var g={};l(g,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(B([])));w&&w!==n&&o.call(w,a)&&(g=w);var E=b.prototype=v.prototype=Object.create(g);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"===r(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(h).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,_;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function B(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:e,done:!0}}return m.prototype=b,l(E,"constructor",b),l(b,"constructor",m),m.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new L(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),l(E,u,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=B,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),_}},t}("object"===r(t=n.nmd(t))?t.exports:{});try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="",(()=>{"use strict";n(588);var t=document.querySelector(".modal__form_type_edit"),e=document.querySelector(".modal__form_type_edit-avatar"),r=document.querySelector(".modal__form_type_add"),o=document.querySelector(".places__list"),i=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),c=(document.querySelectorAll(".card__delete-button"),document.querySelector(".modal__input_content_name")),u=document.querySelector(".modal__input_content_profession"),l=(document.querySelector(".modal__input_content_avatar-link"),{_inputSelector:".modal__input",_submitButtonSelector:".modal__save-button",_inputErrorClass:".modal__input-error",_activeInputErrorClass:"modal__input-error_active",_inactiveButtonClass:"modal__save-button_inactive"}),s=document.querySelector(".modal__image"),f=document.querySelector(".modal__caption"),h=document.querySelector(".header__logo"),p=document.querySelector(".profile__avatar-button"),d=document.querySelector(".profile__avatar");const y=n.p+"3755f99ca093e6e21308.svg",_=n.p+"3db4c7ac6cafc081dcf6.svg";function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(e){var n=e.baseUrl,r=e.authToken;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._authToken=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._authToken}}).then((function(e){return t._getResponseData(e)}))}},{key:"getCards",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._authToken}}).then((function(e){return t._getResponseData(e)}))}},{key:"editUserInfo",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){return e._getResponseData(t)}))}},{key:"editUserAvatar",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authToken,"Content-type":"application/json"},body:JSON.stringify({avatar:t.avatar})}).then((function(t){return e._getResponseData(t)}))}},{key:"addCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._getResponseData(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._authToken,"Content-Type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}},{key:"addLike",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"PUT",headers:{authorization:this._authToken,"Content-Type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}},{key:"deleteLike",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this._authToken,"Content-Type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}},{key:"_getResponseData",value:function(t){return t.ok?t.json():Promise.reject("Err: ".concat(t.status))}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var g=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._profileName=document.querySelector(e),this._profileProfession=document.querySelector(n),this._profileAvatar=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,profession:this._profileProfession.textContent}}},{key:"getId",value:function(){return this._id}},{key:"setUserInfo",value:function(t){this._profileName.textContent=t.name,this._profileProfession.textContent=t.about,this._profileAvatar.style.backgroundImage="url(".concat(t.avatar,")"),this._id=t._id}},{key:"setUserAvatar",value:function(t){this._profileAvatar.style.backgroundImage="url(".concat(t.avatar,")")}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e,n){var r,o,i=this,a=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(t){var e=i._renderer(t);i._container.prepend(e)},(r="addItem")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._renderer=a,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){t.forEach(this.addItem)}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,"_handleEscUp",(function(t){t.preventDefault(),"Escape"===t.key&&n.close()})),S(this,"_handleClick",(function(t){(t.target.classList.contains("modal")||t.target.classList.contains("modal__close-button"))&&n.close()})),this._popupElement=document.querySelector(".".concat(e)),this._handleEscUp=this._handleEscUp.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popupElement.classList.add("modal_open"),document.addEventListener("keyup",this._handleEscUp),this.setEventListeners()}},{key:"close",value:function(){this._popupElement.classList.remove("modal_open"),document.removeEventListener("keyup",this._handleEscUp),this._popupElement.removeEventListener("click",this._handleClick)}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("click",this._handleClick)}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=B(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function B(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function x(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function a(){return j(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"open",value:function(t){var e=t.link,n=t.name;this._popupElement.querySelector(".modal__caption").textContent=n;var r=this._popupElement.querySelector(".modal__image");r.src=e,r.alt="".concat(n),P(T(a.prototype),"open",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=A(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},U.apply(this,arguments)}function A(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function N(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V(t)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(r);if(o){var n=z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return N(this,t)});function a(t,e){var n,r,o,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(t){t.preventDefault(),n.toggleSaveButton(),n._handleFormSubmit(n._getInputValues())},(o="_handleSubmit")in(r=V(n=i.call(this,t)))?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,n._handleFormSubmit=e,n._popupForm=n._popupElement.querySelector(".modal__form"),n}return e=a,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputElements=Array.from(this._popupForm.elements),this._inputElements.forEach((function(e){t[e.name]=e.value})),t}},{key:"close",value:function(){this._popupForm.reset(),this._popupForm.removeEventListener("submit",this._submitHandler),U(z(a.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){this._popupForm.addEventListener("submit",this._handleSubmit),U(z(a.prototype),"setEventListeners",this).call(this)}},{key:"toggleSaveButton",value:function(){var t=this._popupForm.querySelector(".modal__save-button");t.textContent===t.id?t.textContent="Saving...":t.textContent=t.id}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Y(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},M.apply(this,arguments)}function Y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function K(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Q(t)}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return K(this,t)});function a(t,e){var n,r,o,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(t){t.preventDefault(),n._popupForm.querySelector(".modal__save-button").textContent="Saving...",n._handleFormSubmit(n._cardId,n._cardElement)},(o="_handleSubmit")in(r=Q(n=i.call(this,t,e)))?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,n}return e=a,(n=[{key:"open",value:function(t,e){this._cardId=t,this._cardElement=e,M(W(a.prototype),"open",this).call(this)}}])&&J(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(G);function Z(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nt=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(t){i._form.querySelector("#"+t.id+"-error").textContent=t.validationMessage,t.classList.add(i._activeInputErrorClass)},(r="_showInputError")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._inputSelector=e._inputSelector,this._submitButtonSelector=e._submitButtonSelector,this._inputErrorClass=e._inputErrorClass,this._activeInputErrorClass=e._activeInputErrorClass,this._inactiveButtonClass=e._inactiveButtonClass,this._form=n}var e,n;return e=t,(n=[{key:"_hasValidInputs",value:function(){if(this._inputElements.every((function(t){return t.validity.valid})))return!0}},{key:"_toggleButton",value:function(){this._hasValidInputs()?(this._submitButtonEl.disabled=!1,this._submitButtonEl.classList.remove(this._inactiveButtonClass)):(this._submitButtonEl.disabled=!0,this._submitButtonEl.classList.add(this._inactiveButtonClass))}},{key:"_hideInputError",value:function(t){this._form.querySelector("#"+t.id+"-error").textContent="",t.classList.remove(this._activeInputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_setEventListeners",value:function(){var t=this;this._inputElements=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButtonEl=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButton()}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(t){return t.preventDefault()})),this._setEventListeners()}},{key:"removeValidationErrors",value:function(){var t=this;Z(this._form.querySelectorAll(this._inputSelector)).forEach((function(e){e.classList.remove(t._activeInputErrorClass)})),Z(this._form.querySelectorAll(this._inputErrorClass)).forEach((function(t){t.textContent=""}))}},{key:"disableSubmitButton",value:function(){var t=this;Z(this._form.querySelectorAll(this._submitButtonSelector)).forEach((function(e){e.disabled=!0,e.classList.add(t._inactiveButtonClass)}))}}])&&et(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ot=function(){function t(e){var n=e.data,r=e.currentUserId,o=e.handleCardClick,i=e.handleLikeButton,a=e.handleDeleteButton,c=e.cardSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._id=n._id,this._likes=n.likes,this._ownerId=n.owner._id,this._userId=r,this._handleCardClick=o,this._handleLikeButton=i,this._handleDeleteButton=a,this._cardSelector=c}var e,n;return e=t,(n=[{key:"_renderDeleteButton",value:function(){this._ownerId===this._userId?(this._cardDeleteButton.classList.add("card__delete-button_active"),this._cardDeleteButton.disabled=!1):(this._cardDeleteButton.classList.remove("card__delete-button_active"),this._cardDeleteButton.disabled=!0)}},{key:"_setEventListeners",value:function(){var t=this;this._cardLikeButton=this._element.querySelector(".card__like-button"),this._cardDeleteButton=this._element.querySelector(".card__delete-button"),this._image.addEventListener("click",(function(){return t._handleCardClick()})),this._cardLikeButton.addEventListener("click",(function(){return t._handleLikeButton()})),this._cardDeleteButton.addEventListener("click",(function(){return t._handleDeleteButton()}))}},{key:"_renderLikes",value:function(){var t=this;this._cardLikesCounter=this._element.querySelector(".card__like-counter"),this._cardLikesCounter.textContent=this._likes.length,this._likes.some((function(e){return e._id===t._userId}))?this._cardLikeButton.classList.add("card__like-button_active"):this._cardLikeButton.classList.remove("card__like-button_active")}},{key:"updateLikes",value:function(t){this._likes=t.likes,this._renderLikes()}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".card__title").textContent=this._name,this._image=this._element.querySelector(".card__image"),this._image.style.backgroundImage="url(".concat(this._link,")"),this._setEventListeners(),this._renderDeleteButton(),this._renderLikes(),this._element}}])&&rt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),it=new m({baseUrl:"https://around.nomoreparties.co/v1/group-13",authToken:"487d57fd-0c04-4caf-a7fc-6016fd47c784"});h.src=y,p.src=_;var at=new g(".profile__name",".profile__profession",d);it.getUserInfo().then((function(t){at.setUserInfo(t)})).catch((function(t){return console.log("Error: ".concat(t))}));var ct=new R("modal_type_image-preview"),ut=new X("modal_type_delete",(function(t,e){it.deleteCard(t).then((function(){return e.remove()})).then((function(){return ut.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){return ut.toggleSaveButton()}))})),lt=new w({renderer:function(t){return e={data:t,currentUserId:at.getId(),handleCardClick:function(){ct.open(this._link,this._name),s.src=this._link,s.alt=this._name,f.textContent=this._name},handleLikeButton:function(){var t=this;this._cardLikeButton.classList.contains("card__like-button_active")?it.deleteLike(this._id).then((function(e){return t.updateLikes(e)})).catch((function(t){return console.log("Error: ".concat(t))})):it.addLike(this._id).then((function(e){return t.updateLikes(e)})).catch((function(t){return console.log("Error: ".concat(t))}))},handleDeleteButton:function(){ut.open(t._id,this._element)},cardSelector:".card__template"},new ot({data:e.data,currentUserId:e.currentUserId,handleCardClick:e.handleCardClick,handleLikeButton:e.handleLikeButton,handleDeleteButton:e.handleDeleteButton,cardSelector:e.cardSelector}).generateCard();var e}},o);it.getCards().then((function(t){lt.renderItems(t)})).catch((function(t){return console.log("Error: ".concat(t))}));var st=new G("modal_type_edit",(function(t){it.editUserInfo(t).then((function(t){at.setUserInfo(t),st.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){return st.toggleSaveButton()}))})),ft=new G("modal_type_edit-avatar",(function(t){it.editUserAvatar(t).then((function(t){at.setUserAvatar(t),ft.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){return ft.toggleSaveButton()}))})),ht=new G("modal_type_add",(function(t){it.addCard(t).then((function(t){lt.addItem(t),ht.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){return ht.toggleSaveButton()}))}));i.addEventListener("click",(function(){st.open(),st.setEventListeners(),pt.removeValidationErrors(),pt.disableSubmitButton();var t=at.getUserInfo();c.value=t.name,u.value=t.profession})),d.addEventListener("click",(function(){ft.open(),ft.setEventListeners(),yt.removeValidationErrors(),yt.disableSubmitButton()})),a.addEventListener("click",(function(){ht.open(),ht.setEventListeners(),dt.removeValidationErrors(),dt.disableSubmitButton()}));var pt=new nt(l,t),dt=new nt(l,r),yt=new nt(l,e);pt.enableValidation(),dt.enableValidation(),yt.enableValidation()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQkYsR0FBd0JFLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy91c2VyLWluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9wb3B1cC13aXRoLWltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9wb3B1cC13aXRoLWZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3BvcHVwLXdpdGgtdmVyaWZpY2F0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9mb3JtLXZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvY2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiLy8gKioqIFdyYXBwZXJzICoqKlxyXG5jb25zdCBlZGl0TW9kYWxFbCA9IFwibW9kYWxfdHlwZV9lZGl0XCI7XHJcbmNvbnN0IGVkaXRGb3JtTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX3R5cGVfZWRpdFwiKTtcclxuY29uc3QgZWRpdEF2YXRhckVsID0gXCJtb2RhbF90eXBlX2VkaXQtYXZhdGFyXCI7XHJcbmNvbnN0IGVkaXRBdmF0YXJGb3JtTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX3R5cGVfZWRpdC1hdmF0YXJcIik7XHJcbmNvbnN0IGFkZE1vZGFsRWwgPSBcIm1vZGFsX3R5cGVfYWRkXCI7XHJcbmNvbnN0IGFkZEZvcm1Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1fdHlwZV9hZGRcIik7XHJcbmNvbnN0IGRlbGV0ZU1vZGFsRWwgPSBcIm1vZGFsX3R5cGVfZGVsZXRlXCI7XHJcblxyXG5jb25zdCBwbGFjZXNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2xpc3RcIik7XHJcblxyXG5cclxuLy8gKioqIEJ1dHRvbnMgKioqXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcblxyXG4vLyAqKiogRm9ybSBkYXRhICoqKlxyXG5jb25zdCBtb2RhbElucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X2NvbnRlbnRfbmFtZVwiKTtcclxuY29uc3QgbW9kYWxJbnB1dFByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dF9jb250ZW50X3Byb2Zlc3Npb25cIik7XHJcbmNvbnN0IG1vZGFsSW5wdXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dF9jb250ZW50X2F2YXRhci1saW5rXCIpO1xyXG5cclxuY29uc3QgZm9ybVNldHRpbmdzID0ge1xyXG4gICAgX2lucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gICAgX3N1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIixcclxuICAgIF9pbnB1dEVycm9yQ2xhc3M6IFwiLm1vZGFsX19pbnB1dC1lcnJvclwiLFxyXG4gICAgX2FjdGl2ZUlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbiAgICBfaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZS1idXR0b25faW5hY3RpdmVcIlxyXG59XHJcblxyXG5cclxuLy8gKioqIEltYWdlIFByZXZpZXcgTW9kYWwgKioqXHJcbmNvbnN0IGltYWdlQ2xvc2V1cFByZXZpZXdFbCA9IFwibW9kYWxfdHlwZV9pbWFnZS1wcmV2aWV3XCI7XHJcbmNvbnN0IGltYWdlUHJldmlld0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbmNvbnN0IGNhcHRpb25QcmV2aWV3RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG5cclxuXHJcbi8vICoqKiBDYXJkcyAqKipcclxuY29uc3QgY2FyZFNlbGVjdG9yID0gXCIuY2FyZF9fdGVtcGxhdGVcIjsgXHJcblxyXG4vLyAqKiogUHJvZmlsZSAqKipcclxuY29uc3QgaGVhZGVyTG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19sb2dvXCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IFwiLnByb2ZpbGVfX25hbWVcIjtcclxuY29uc3QgcHJvZmlsZVByb2Zlc3Npb24gPSBcIi5wcm9maWxlX19wcm9mZXNzaW9uXCI7XHJcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5cclxuXHJcbmV4cG9ydCB7aGVhZGVyTG9nbywgcHJvZmlsZU5hbWUsIHByb2ZpbGVQcm9mZXNzaW9uLCBwcm9maWxlQXZhdGFyLCBwcm9maWxlRWRpdEJ1dHRvbiwgYXZhdGFyQnV0dG9uLCBcclxuICAgICAgIGVkaXRNb2RhbEVsLCBlZGl0Rm9ybU1vZGFsLCBlZGl0QXZhdGFyRWwsIGVkaXRBdmF0YXJGb3JtTW9kYWwsIG1vZGFsSW5wdXROYW1lLCBtb2RhbElucHV0UHJvZmVzc2lvbiwgbW9kYWxJbnB1dEF2YXRhcixcclxuICAgICAgIGNhcmRBZGRCdXR0b24sIGFkZE1vZGFsRWwsIGFkZEZvcm1Nb2RhbCwgY2FyZFNlbGVjdG9yLCBwbGFjZXNMaXN0LCBpbWFnZUNsb3NldXBQcmV2aWV3RWwsXHJcbiAgICAgICBpbWFnZVByZXZpZXdFbCwgY2FwdGlvblByZXZpZXdFbCwgY2FyZERlbGV0ZUJ1dHRvbiwgZGVsZXRlTW9kYWxFbCwgZm9ybVNldHRpbmdzfVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBhdXRoVG9rZW59KSB7XHJcbiAgICAgICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICAgICAgdGhpcy5fYXV0aFRva2VuID0gYXV0aFRva2VuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0Q2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBlZGl0VXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhUb2tlbixcclxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmFib3V0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIiwgXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhUb2tlbixcclxuICAgICAgICAgICAgICAgIFwiQ29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZENhcmQoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFRva2VuLFxyXG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XHJcbiAgICAgICAgaWYoIXJlcy5vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IocHJvZmlsZU5hbWUsIHByb2ZpbGVQcm9mZXNzaW9uLCBwcm9maWxlQXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcclxuICAgICAgICB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVByb2Zlc3Npb24pO1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBwcm9maWxlQXZhdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBwcm9mZXNzaW9uOiB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbi50ZXh0Q29udGVudFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lLFxyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVQcm9mZXNzaW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dCxcclxuICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtkYXRhLmF2YXRhcn0pYCxcclxuICAgICAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGEuYXZhdGFyfSlgO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7cmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKHRoaXMuYWRkSXRlbSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZEl0ZW0gPSBjYXJkID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGNhcmQpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cG9wdXBTZWxlY3Rvcn1gKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NVcCA9IHRoaXMuX2hhbmRsZUVzY1VwLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NVcCk7XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5cIik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY1VwKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2hhbmRsZUVzY1VwID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyBcclxuICAgICAgICBpZihldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9oYW5kbGVDbGljayA9IChldnQpID0+IHtcclxuICAgICAgICBpZigoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykpIHx8IChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfX2Nsb3NlLWJ1dHRvbicpKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2spO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIG9wZW4oe2xpbmssIG5hbWV9KSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2FwdGlvbicpLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZScpO1xyXG4gICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xyXG4gICAgICAgIGltYWdlRWxlbWVudC5hbHQgPSBgJHtuYW1lfWA7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9wb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0uZWxlbWVudHMpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdEhhbmRsZXIpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZVN1Ym1pdCA9IChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZVNhdmVCdXR0b24oKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpOyBcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNhdmVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgaWYoc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9PT0gc2F2ZUJ1dHRvbi5pZCkge1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2ZUJ1dHRvbi5pZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vcG9wdXAtd2l0aC1mb3JtLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhWZXJpZmljYXRpb24gZXh0ZW5kcyBQb3B1cFdpdGhGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGNhcmRJZCwgY2FyZEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZVN1Ym1pdCA9IChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idXR0b25cIikudGV4dENvbnRlbnQgPSAoXCJTYXZpbmcuLi5cIik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRFbGVtZW50KTsgXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5faW5wdXRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLl9zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5faW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZUlucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLl9hY3RpdmVJbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG5cclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhc1ZhbGlkSW5wdXRzKCl7XHJcbiAgICAgICAgaWYodGhpcy5faW5wdXRFbGVtZW50cy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfdG9nZ2xlQnV0dG9uKCkge1xyXG4gICAgICAgIGlmKHRoaXMuX2hhc1ZhbGlkSW5wdXRzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yU3BhbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIiNcIiArIGlucHV0RWwuaWQgKyBcIi1lcnJvclwiKTtcclxuICAgICAgICBlcnJvclNwYW4udGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9hY3RpdmVJbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JTcGFuID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaW5wdXRFbC5pZCArIFwiLWVycm9yXCIpO1xyXG4gICAgICAgIGVycm9yU3Bhbi50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2FjdGl2ZUlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgICAgIGlmKGlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWwpID0+IHsgXHJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpOyBcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVWYWxpZGF0aW9uRXJyb3JzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgICAgICBpbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2FjdGl2ZUlucHV0RXJyb3JDbGFzcyk7IFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpXTtcclxuICAgICAgICBlcnJvckVsZW1lbnRzLmZvckVhY2goKGVycm9yRWwpID0+IHtcclxuICAgICAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b25FbGVtZW50cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpXTtcclxuICAgICAgICBzdWJtaXRCdXR0b25FbGVtZW50cy5mb3JFYWNoKChzdWJtaXRCdXR0b25FbCkgPT4ge1xyXG4gICAgICAgICAgICBzdWJtaXRCdXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKHtkYXRhLCBjdXJyZW50VXNlcklkLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VCdXR0b24sIGhhbmRsZURlbGV0ZUJ1dHRvbiwgY2FyZFNlbGVjdG9yfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gY3VycmVudFVzZXJJZDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbiA9IGhhbmRsZUxpa2VCdXR0b247XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBfcmVuZGVyRGVsZXRlQnV0dG9uKCkge1xyXG4gICAgICAgIGlmKHRoaXMuX293bmVySWQgPT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19kZWxldGUtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2RlbGV0ZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljaygpKTtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpKTtcclxuICAgICAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3JlbmRlckxpa2VzKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1jb3VudGVyXCIpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzTGlrZWQgPSB0aGlzLl9saWtlcy5zb21lKGxpa2UgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcblxyXG4gICAgICAgIGlmKGlzTGlrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMaWtlcyhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLl9saW5rfSlgO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlckRlbGV0ZUJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0ICdyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUnO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtoZWFkZXJMb2dvLCBwcm9maWxlTmFtZSwgcHJvZmlsZVByb2Zlc3Npb24sIHByb2ZpbGVBdmF0YXIsIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gICAgICAgYXZhdGFyQnV0dG9uLCBlZGl0TW9kYWxFbCwgZWRpdEZvcm1Nb2RhbCwgZWRpdEF2YXRhckVsLCBlZGl0QXZhdGFyRm9ybU1vZGFsLCBtb2RhbElucHV0TmFtZSxcclxuICAgICAgIG1vZGFsSW5wdXRQcm9mZXNzaW9uLCBjYXJkQWRkQnV0dG9uLCBhZGRNb2RhbEVsLCBhZGRGb3JtTW9kYWwsIGNhcmRTZWxlY3RvciwgcGxhY2VzTGlzdCxcclxuICAgICAgIGltYWdlQ2xvc2V1cFByZXZpZXdFbCwgaW1hZ2VQcmV2aWV3RWwsIGNhcHRpb25QcmV2aWV3RWwsIGRlbGV0ZU1vZGFsRWwsIGZvcm1TZXR0aW5nc31cclxuICAgICAgIGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IGhlYWRlckltYWdlIGZyb20gXCIuLi9pbWFnZXMvaGVhZGVyX19sb2dvLnN2Z1wiO1xyXG5pbXBvcnQgYXZhdGFyQnV0dG9uSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9wcm9maWxlX19lZGl0LWJ1dHRvbi1zaWduLnN2Z1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL2FwaS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvdXNlci1pbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL3NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL3BvcHVwLXdpdGgtaW1hZ2VcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcG9wdXAtd2l0aC1mb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhWZXJpZmljYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cC13aXRoLXZlcmlmaWNhdGlvbic7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL2Zvcm0tdmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7cmVuZGVyQ2FyZH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcblxyXG5cclxuLy8gKioqIEFwaSAqKipcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTNcIixcclxuICAgIGF1dGhUb2tlbjogXCI0ODdkNTdmZC0wYzA0LTRjYWYtYTdmYy02MDE2ZmQ0N2M3ODRcIlxyXG59KTtcclxuXHJcblxyXG4vLyAqKiogUHJvZmlsZSAqKipcclxuaGVhZGVyTG9nby5zcmMgPSBoZWFkZXJJbWFnZTtcclxuYXZhdGFyQnV0dG9uLnNyYyA9IGF2YXRhckJ1dHRvbkltYWdlO1xyXG5cclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlUHJvZmVzc2lvbiwgcHJvZmlsZUF2YXRhcik7XHJcblxyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbn0pXHJcbi5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSk7XHJcblxyXG5cclxuLy8gKioqIE9yaWdpbmFsIENhcmRzICoqKlxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKGltYWdlQ2xvc2V1cFByZXZpZXdFbCk7XHJcblxyXG5cclxuY29uc3QgZGVsZXRlRm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aFZlcmlmaWNhdGlvbihkZWxldGVNb2RhbEVsLCAoY2FyZElkLCBjYXJkRWxlbWVudCkgPT4ge1xyXG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkKVxyXG4gICAgLnRoZW4oKCkgPT4gY2FyZEVsZW1lbnQucmVtb3ZlKCkpXHJcbiAgICAudGhlbigoKSA9PiBkZWxldGVGb3JtUG9wdXAuY2xvc2UoKSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcclxuICAgIC5maW5hbGx5KCgpID0+IGRlbGV0ZUZvcm1Qb3B1cC50b2dnbGVTYXZlQnV0dG9uKCkpO1xyXG59KTtcclxuXHJcblxyXG5jb25zdCBvcmlnaW5hbENhcmRzID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiByZW5kZXJDYXJkKHtcclxuICAgICAgICAgICAgZGF0YTogaXRlbSwgXHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VySWQ6IHVzZXJJbmZvLmdldElkKCksXHJcbiAgICAgICAgICAgIGhhbmRsZUNhcmRDbGljazogZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKCkge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VQcmV2aWV3RWwuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICAgICAgICAgIGltYWdlUHJldmlld0VsLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgICAgICAgICBjYXB0aW9uUHJldmlld0VsLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIGhhbmRsZUxpa2VCdXR0b246IGZ1bmN0aW9uIGhhbmRsZUxpa2VCdXR0b24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZExpa2UodGhpcy5faWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHRoaXMudXBkYXRlTGlrZXMoZGF0YSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcGkuZGVsZXRlTGlrZSh0aGlzLl9pZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gdGhpcy51cGRhdGVMaWtlcyhkYXRhKSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJ9YCkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlRm9ybVBvcHVwLm9wZW4oaXRlbS5faWQsIHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYXJkU2VsZWN0b3I6IGNhcmRTZWxlY3RvclxyXG4gICAgICAgIH0pXHJcbn0sIHBsYWNlc0xpc3QpO1xyXG5cclxuXHJcbmFwaS5nZXRDYXJkcygpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICBvcmlnaW5hbENhcmRzLnJlbmRlckl0ZW1zKGRhdGEpXHJcbn0pXHJcbi5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSk7XHJcblxyXG5cclxuLy8gKioqIEZvcm1zICoqKlxyXG5jb25zdCBlZGl0Rm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oZWRpdE1vZGFsRWwsIChkYXRhKSA9PiB7XHJcbiAgICBhcGkuZWRpdFVzZXJJbmZvKGRhdGEpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgICAgZWRpdEZvcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcclxuICAgIC5maW5hbGx5KCgpID0+IGVkaXRGb3JtUG9wdXAudG9nZ2xlU2F2ZUJ1dHRvbigpKTtcclxufSk7XHJcblxyXG5cclxuY29uc3QgZWRpdEF2YXRhckZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKGVkaXRBdmF0YXJFbCwgKGRhdGEpID0+IHtcclxuICAgIGFwaS5lZGl0VXNlckF2YXRhcihkYXRhKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoZGF0YSk7XHJcbiAgICAgICAgZWRpdEF2YXRhckZvcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcclxuICAgIC5maW5hbGx5KCgpID0+IGVkaXRBdmF0YXJGb3JtUG9wdXAudG9nZ2xlU2F2ZUJ1dHRvbigpKTtcclxufSk7XHJcblxyXG5cclxuY29uc3QgYWRkRm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oYWRkTW9kYWxFbCwgKGRhdGEpID0+IHtcclxuICAgIGFwaS5hZGRDYXJkKGRhdGEpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgb3JpZ2luYWxDYXJkcy5hZGRJdGVtKGRhdGEpO1xyXG4gICAgICAgIGFkZEZvcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcclxuICAgIC5maW5hbGx5KCgpID0+IGFkZEZvcm1Qb3B1cC50b2dnbGVTYXZlQnV0dG9uKCkpO1xyXG59KTtcclxuXHJcblxyXG4vLyAqKiogQnV0dG9ucyAqKipcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGVkaXRGb3JtUG9wdXAub3BlbigpO1xyXG4gICAgZWRpdEZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgZWRpdEZvcm1WYWxpZGF0b3IucmVtb3ZlVmFsaWRhdGlvbkVycm9ycygpO1xyXG4gICAgZWRpdEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG5cclxuICAgIGNvbnN0IGdldFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgIG1vZGFsSW5wdXROYW1lLnZhbHVlID0gZ2V0VXNlckluZm8ubmFtZSxcclxuICAgIG1vZGFsSW5wdXRQcm9mZXNzaW9uLnZhbHVlID0gZ2V0VXNlckluZm8ucHJvZmVzc2lvbjtcclxufSk7XHJcblxyXG5cclxucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgZWRpdEF2YXRhckZvcm1Qb3B1cC5vcGVuKCk7XHJcbiAgICBlZGl0QXZhdGFyRm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBlZGl0QXZhdGFyRm9ybVZhbGlkYXRvci5yZW1vdmVWYWxpZGF0aW9uRXJyb3JzKCk7XHJcbiAgICBlZGl0QXZhdGFyRm9ybVZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn0pO1xyXG5cclxuXHJcbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGFkZEZvcm1Qb3B1cC5vcGVuKCk7XHJcbiAgICBhZGRGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIGFkZEZvcm1WYWxpZGF0b3IucmVtb3ZlVmFsaWRhdGlvbkVycm9ycygpO1xyXG4gICAgYWRkRm9ybVZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vICoqKiBGb3JtVmFsaWRhdG9yICoqKiBcclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2V0dGluZ3MsIGVkaXRGb3JtTW9kYWwpO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVNldHRpbmdzLCBhZGRGb3JtTW9kYWwpO1xyXG5jb25zdCBlZGl0QXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1TZXR0aW5ncywgZWRpdEF2YXRhckZvcm1Nb2RhbCk7XHJcblxyXG5cclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTsiLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9jYXJkLmpzXCI7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKHtkYXRhLCBjdXJyZW50VXNlcklkLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VCdXR0b24sIGhhbmRsZURlbGV0ZUJ1dHRvbiwgY2FyZFNlbGVjdG9yfSkge1xyXG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtkYXRhLCBjdXJyZW50VXNlcklkLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VCdXR0b24sIGhhbmRsZURlbGV0ZUJ1dHRvbiwgY2FyZFNlbGVjdG9yfSk7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCB7cmVuZGVyQ2FyZH07Il0sIm5hbWVzIjpbInJ1bnRpbWUiLCJleHBvcnRzIiwidW5kZWZpbmVkIiwiT3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIiRTeW1ib2wiLCJTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwib2JqIiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwibWV0aG9kIiwiYXJnIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJFcnJvciIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiZG9uZSIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJjYWxsIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwidGhpcyIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsImludm9rZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJUeXBlRXJyb3IiLCJpbmZvIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJsZW5ndGgiLCJpIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwiaXRlciIsImtleXMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsIm1vZHVsZSIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibm1kIiwicGF0aHMiLCJjaGlsZHJlbiIsInAiLCJlZGl0Rm9ybU1vZGFsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWRpdEF2YXRhckZvcm1Nb2RhbCIsImFkZEZvcm1Nb2RhbCIsInBsYWNlc0xpc3QiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImNhcmRBZGRCdXR0b24iLCJtb2RhbElucHV0TmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbElucHV0UHJvZmVzc2lvbiIsImZvcm1TZXR0aW5ncyIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9hY3RpdmVJbnB1dEVycm9yQ2xhc3MiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImltYWdlUHJldmlld0VsIiwiY2FwdGlvblByZXZpZXdFbCIsImhlYWRlckxvZ28iLCJhdmF0YXJCdXR0b24iLCJwcm9maWxlQXZhdGFyIiwiQXBpIiwiYmFzZVVybCIsImF1dGhUb2tlbiIsIl9iYXNlVXJsIiwiX2F1dGhUb2tlbiIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXMiLCJfZ2V0UmVzcG9uc2VEYXRhIiwiZGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXIiLCJsaW5rIiwiY2FyZElkIiwib2siLCJqc29uIiwic3RhdHVzIiwiVXNlckluZm8iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVQcm9mZXNzaW9uIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVQcm9mZXNzaW9uIiwiX3Byb2ZpbGVBdmF0YXIiLCJ0ZXh0Q29udGVudCIsInByb2Zlc3Npb24iLCJfaWQiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiY2FyZCIsImNhcmRFbGVtZW50IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJpdGVtcyIsImFkZEl0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImNsb3NlIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY1VwIiwiYmluZCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlQ2xpY2siLCJQb3B1cFdpdGhJbWFnZSIsImltYWdlRWxlbWVudCIsInNyYyIsImFsdCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwidG9nZ2xlU2F2ZUJ1dHRvbiIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX3BvcHVwRm9ybSIsImZvcm1WYWx1ZXMiLCJfaW5wdXRFbGVtZW50cyIsIkFycmF5IiwiZnJvbSIsImVsZW1lbnRzIiwiaW5wdXQiLCJfc3VibWl0SGFuZGxlciIsIl9oYW5kbGVTdWJtaXQiLCJzYXZlQnV0dG9uIiwiUG9wdXBXaXRoVmVyaWZpY2F0aW9uIiwiX2NhcmRJZCIsIl9jYXJkRWxlbWVudCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbCIsIl9mb3JtIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJldmVyeSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzVmFsaWRJbnB1dHMiLCJfc3VibWl0QnV0dG9uRWwiLCJkaXNhYmxlZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uIiwiZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImVycm9yRWwiLCJzdWJtaXRCdXR0b25FbCIsIkNhcmQiLCJjdXJyZW50VXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUJ1dHRvbiIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImNhcmRTZWxlY3RvciIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlcklkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9jYXJkU2VsZWN0b3IiLCJfY2FyZERlbGV0ZUJ1dHRvbiIsIl9jYXJkTGlrZUJ1dHRvbiIsIl9lbGVtZW50IiwiX2ltYWdlIiwiX2NhcmRMaWtlc0NvdW50ZXIiLCJzb21lIiwibGlrZSIsIl9yZW5kZXJMaWtlcyIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfcmVuZGVyRGVsZXRlQnV0dG9uIiwiYXBpIiwiaGVhZGVySW1hZ2UiLCJhdmF0YXJCdXR0b25JbWFnZSIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsImltYWdlUG9wdXAiLCJkZWxldGVGb3JtUG9wdXAiLCJkZWxldGVDYXJkIiwiZmluYWxseSIsIm9yaWdpbmFsQ2FyZHMiLCJpdGVtIiwiZ2V0SWQiLCJvcGVuIiwiZGVsZXRlTGlrZSIsInVwZGF0ZUxpa2VzIiwiYWRkTGlrZSIsImdlbmVyYXRlQ2FyZCIsImdldENhcmRzIiwicmVuZGVySXRlbXMiLCJlZGl0Rm9ybVBvcHVwIiwiZWRpdFVzZXJJbmZvIiwiZWRpdEF2YXRhckZvcm1Qb3B1cCIsImVkaXRVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsImFkZEZvcm1Qb3B1cCIsImFkZENhcmQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsInJlbW92ZVZhbGlkYXRpb25FcnJvcnMiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=